import numpy as np
from scipy.fft import fft, fftfreq
from scipy.fftpack import rfft

FOREHEAD_POINTS = [67, 109, 10, 338, 297, 299, 296, 336, 9, 107, 66, 69]
CHEEK1_POINTS = [329, 348, 347, 280, 411, 427, 436, 426, 266, 329, 348]
CHEEK2_POINTS = [100, 119, 118, 50, 187, 207, 216, 206, 36]

FPS = 30
DURATION = 10
WINDOW_SIZE = FPS * DURATION

MIN_HR_BPM, MAX_HR_BMP = 48, 144

FREQS = fftfreq(WINDOW_SIZE, 1 / FPS)
# FREQS = float(FPS) / WINDOW_SIZE * np.arange(WINDOW_SIZE/ 2 + 1)

INVALID_IDX = np.where((FREQS < 50) | (FREQS > 180))

selfFreqs = float(FPS) / WINDOW_SIZE * np.arange(WINDOW_SIZE / 2 + 1)

freqs = 60 * selfFreqs
idx = np.where((freqs > 50) & (freqs < 180))

pfreq = freqs[idx]

# print(FREQS1*60)
# print(FREQS*60)
# print(INVALID_IDX)

# FREQS[INVALID_IDX] = 0
# print(FREQS)


# a = [9, -9, 1, 3]
# print(rfft(a))

# mean_list = [np.array([193.91492586, 189.05000541, 214.08940362]), np.array([188.86305897, 186.51409687, 212.54766085]), np.array([182.91636135, 180.69381346, 203.00240762]), np.array([181.50343226, 179.64799112, 202.64627498]), np.array([180.83634701, 179.23730191, 202.05800488]), np.array([179.27081244, 178.37201605, 201.52738215]), np.array([180.6475, 179.7293, 203.2133]), np.array([179.32631782, 178.78750724, 202.27283259]), np.array([178.28814059, 178.0211074 , 201.56420577]), np.array([175.54769023, 175.17629472, 199.40293182]), np.array([173.23435701, 172.94174664, 197.22418426]), np.array([173.94115388, 173.750024  , 198.48718441]), np.array([176.46798502, 175.64001152, 199.27733513]), np.array([174.11348065, 173.31554569, 197.711763  ]), np.array([174.06210941, 173.41361408, 197.71935391]), np.array([171.67739549, 171.06529782, 195.96170921]), np.array([174.38417452, 173.21482714, 197.98715104]), np.array([177.35601194, 175.87939926, 199.73247082]), np.array([179.22042868, 177.79033254, 200.86380877]), np.array([181.00507343, 179.74045394, 202.3693814 ]), np.array([181.86076061, 179.93346863, 202.7591988 ]), np.array([182.84583771, 180.83788038, 203.65757258]), np.array([185.51588065, 183.20859218, 205.41989675]), np.array([187.33675154, 185.01824976, 206.59911358]), np.array([186.73741736, 184.24627589, 205.69175848]), np.array([187.91890233, 185.28143083, 206.44713309]), np.array([187.1264688 , 184.69309775, 206.70127948]), np.array([186.50552169, 184.15116176, 206.29940807]), np.array([184.92296218, 182.71159077, 205.18873388]), np.array([184.7460431 , 182.62398283, 205.08557632]), np.array([183.79793208, 181.58784205, 204.21356627]), np.array([181.65197875, 179.5327959 , 203.19082081]), np.array([181.3409008 , 179.68982495, 203.17496353]), np.array([179.71928532, 177.8164487 , 201.72094308]), np.array([177.99342653, 176.63642255, 200.6117952 ]), np.array([174.56973659, 173.29249574, 197.99715748]), np.array([171.34776536, 170.2310987 , 195.92597765]), np.array([168.96108118, 167.88045699, 194.5359465 ]), np.array([168.47667099, 167.28939085, 193.80336975]), np.array([169.66654188, 168.39803463, 194.82442677]), np.array([169.89823175, 168.5462754 , 194.89973664]), np.array([168.49013158, 167.08187135, 193.89820906]), np.array([171.8152214 , 170.21577491, 196.85424354]), np.array([174.56175926, 172.6662963 , 198.58944444]), np.array([175.41519386, 173.94577589, 199.45146664])]
# # yf = rfft(mean_list)
# # print(yf)

# # inds = np.where((FREQS < 0.8  | FREQS > 2.4))

# SAMPLE_RATE = 30
# DURATION = 10
# N = SAMPLE_RATE * DURATION

# xf = fftfreq(N, 1 / SAMPLE_RATE)

# inds= np.where((xf < 0.8) | (xf > 2.4))
# print(inds)
# yf[inds] = 0
# # print(yf)
